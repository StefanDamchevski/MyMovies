@model DemoMovies.Service.Dto.SideBarData;

@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers

<div class="sidebar-wrap">
    <h2>Top Movies</h2>
    @foreach (var movie in Model.TopViews)
    {
        if (movie.IsApproved)
        {
            <a asp-controller="Movie" asp-action="Details" asp-route-id="@movie.Id" class="top-recent">
                <div class="inside">
                    <p>Title: @movie.Title  </p>
                    <p>Date created: @movie.DateCreated.ToString("yyyy-MM-dd")</p>
                    <p>Views: @movie.Views</p>
                </div>
            </a>
        }
    }
    <h2>Recent Movies</h2>
    @foreach (var movie in Model.RecentlyCreated)
    {
        if (movie.IsApproved)
        {
            <a asp-controller="Movie" asp-action="Details" asp-route-id="@movie.Id" class="top-recent">
                <div class="inside">
                    <p>Title: @movie.Title  </p>
                    <p>Date created: @movie.DateCreated.ToString("yyyy-MM-dd")</p>
                    <p>Views: @movie.Views</p>
                </div>
            </a>
        }
    }
</div>